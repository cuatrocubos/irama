[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format .header th {\n    font-weight: 600;\n}\n\n.print-format .table-borderless th, .print-format .table-borderless td {\n    padding: 0 !important;\n    margin: 0 !important;\n}\n\n.print-format .bordered {\n    border-bottom: 1px solid #59A9F2 !important; \n}\n\n.print-format .totals-label {\n    width: 20%; \n    font-weight: 600;\n}\n.print-format .totals-amount {\n    width: 20%; \n    text-align: right;\n}",
  "custom_format": 1,
  "default_print_language": "es",
  "disabled": 0,
  "doc_type": "Quotation",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h2><div>Cotizaci\\u00f3n</div><br><small class=\\\"sub-heading\\\">{{ doc.name }}</small>\\t\\t\\t\\t</h2></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"customer_name\", \"print_hide\": 0, \"label\": \"Nombre del cliente\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"transaction_date\", \"print_hide\": 0, \"label\": \"Fecha\"}, {\"fieldname\": \"valid_till\", \"print_hide\": 0, \"label\": \"V\\u00e1lida hasta\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Items\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"scan_barcode\", \"print_hide\": 0, \"label\": \"Escanear C\\u00f3digo de Barras\"}, {\"fieldname\": \"items\", \"print_hide\": 0, \"visible_columns\": [{\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_name\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"qty\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total_qty\", \"print_hide\": 0, \"label\": \"Cantidad total\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"total\", \"print_hide\": 0, \"label\": \"Total\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Taxes and Charges\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"incoterm\", \"print_hide\": 0, \"label\": \"Incoterm\"}, {\"fieldname\": \"named_place\", \"print_hide\": 0, \"label\": \"Named Place\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"taxes\", \"print_hide\": 0, \"label\": \"Impuestos y cargos sobre ventas\", \"visible_columns\": [{\"fieldname\": \"tax_amount\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Totals\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"label\": \"Total\"}, {\"fieldname\": \"in_words\", \"print_hide\": 0, \"label\": \"En palabras\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Additional Discount\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"coupon_code\", \"print_hide\": 0, \"label\": \"C\\u00f3digo promocional\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"referral_sales_partner\", \"print_hide\": 0, \"label\": \"Socio de ventas de referencia\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Pricing Rules\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"pricing_rules\", \"print_hide\": 0, \"label\": \"Detalle de la regla de precios\", \"visible_columns\": [{\"fieldname\": \"pricing_rule\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"item_code\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"margin_type\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rate_or_discount\", \"print_width\": \"\", \"print_hide\": 0}, {\"fieldname\": \"rule_applied\", \"print_width\": \"\", \"print_hide\": 0}]}, {\"fieldtype\": \"Section Break\", \"label\": \"Billing Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"address_display\", \"print_hide\": 0, \"label\": \"Direcci\\u00f3n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"contact_display\", \"print_hide\": 0, \"label\": \"Contacto\"}, {\"fieldname\": \"contact_mobile\", \"print_hide\": 0, \"label\": \"N\\u00ba M\\u00f3vil\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Company Address\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"company_address\", \"print_hide\": 0, \"label\": \"Nombre de la Empresa\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"company_address_display\", \"print_hide\": 0, \"label\": \"Direcci\\u00f3n de la Compa\\u00f1\\u00eda\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Terms and Conditions\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"terms\", \"print_hide\": 0, \"label\": \"Detalles de t\\u00e9rminos y condiciones\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Auto Repeat\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"update_auto_repeat_reference\", \"print_hide\": 0, \"label\": \"Actualizar la Referencia de Repetici\\u00f3n Autom\\u00e1tica\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Lost Reasons\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"lost_reasons\", \"print_hide\": 0, \"label\": \"Razones perdidas\"}, {\"fieldname\": \"competitors\", \"print_hide\": 0, \"label\": \"Competitors\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Additional Info\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"supplier_quotation\", \"print_hide\": 0, \"label\": \"Presupuesto de Proveedor\"}]",
  "html": "{{letter_head}}\n<div style=\"padding: 0; margin: 0 auto; width: 100%;\">\n    <div style=\"align-items: end; display: flex; flex-wrap: wrap;\">\n        <div style=\"flex-basis: 0; flex-grow: 1; min-width: 0; width: 350px;  position: relative; padding: 25px 0 0;\">\n            <h4 class=\"m-0\">Cotizaci\u00f3n No.</h4>\n            <h4 class=\"m-0\">{{doc.name}}</h4>\n        </div>\n        <div style=\"flex-basis: 0; flex-grow: 1; width: auto; max-width: 100%; position: relative; text-align: right;\">\n            <p style=\"font-size: 10px; margin-top: 15px; text-transform: uppercase;\">COTIZACION<br>\n            VT.R 03</p>\n        </div>\n    </div>\n</div>\n<table class=\"table table-borderless header\" style=\"margin-top: 15px;\">\n    <tbody>\n        <tr>\n            <th>Cliente</th>\n            <td>{{ doc.customer_name }}</td>\n            <th>Fecha</th>\n            <td>{{ doc.get_formatted(\"transaction_date\") }}</td>\n        </tr>\n        <tr>\n            <th>RTN</th>\n            <td>{{ doc.tax_id or \"\" }}</td>\n            <th>Valido Hasta</th>\n            <td>{{ doc.get_formatted(\"valid_till\") }}</td>\n        </tr>\n        <tr>\n            <th rowspan=\"2\">Direcci\u00f3n</th>\n            <td rowspan=\"2\">{{ doc.address_display or \"\" }}</td>\n            <th></th>\n            <td></td>\n        </tr>\n        <tr>\n            <th></th>\n            <td></td>\n        </tr>\n    </tbody>\n</table>\n<table class=\"table my-1\">\n    <thead class=\"thead-light\">\n        <tr>\n            <th style=\"font-size: x-small;\">#</th>\n            <th style=\"font-size: x-small;\" class=\"text-uppercase\">Descripci\u00f3n</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Cantidad</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">P. Unitario</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Descuento</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Total</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">ISV</th>\n        </tr>\n    </thead>\n    <tbody>\n        {%- for item in doc.items -%}\n        <tr>\n            <td style=\"width: 3%;\">{{ item.idx }}</td>\n            <td style=\"width: 37%;\">{{ item.description }}</td>\n            <td style=\"width: 10%; text-align: right;\">{{ item.qty }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(item.rate) }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(item.discount_amount) }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(item.amount) }}</td>\n            <td style=\"width: 5%; text-align: right;\">\n                {% set mydict = json.loads(item.item_tax_rate) %}\n        \t\t{% if item.item_tax_rate == \"{}\" %}\n        \t\t\t{% for row in doc.taxes %}\n        \t\t\t\t{{ row.rate }}.0%\n        \t\t\t{% endfor %}\n        \t\t{% else %}\n        \t\t\t{% for obj, value in mydict.items() %}\n        \t\t\t{{ value }}%\n        \t\t\t{% endfor %}\n        \t\t{% endif %}\n            </td>\n        </tr>\n        {%- endfor -%}\n    </tbody>\n</table>\n\n{% set tax_rates_dic = json.loads(doc.taxes[0].item_wise_tax_detail) %}\n{% set tax_templates = frappe.get_all('Item Tax Template', fields=['name', 'title']) %}\n\n{% set tax_exento_total = [] %}\n{% set tax_exento_tax_total = [] %}\n{% set tax_15_tax_total = [] %}\n{% set tax_15_total = [] %}\n{% set tax_18_tax_total = [] %}\n{% set tax_18_total = [] %}\n\n{% for tax_template in tax_templates %}\n    {% for item in doc.items %}\n        {% if item.item_tax_template == tax_template.name %}\n            {% if tax_template.title == \"ISV 15%\" %}\n                {% set _ = tax_15_total.append(item.net_amount) %}\n                {% for obj, value in tax_rates_dic.items() %}\n                    {% if obj == item.item_code %}\n                        {% set _ = tax_15_tax_total.append(value[1]) %}\n                    {% endif %}\n                {% endfor %}\n            {% endif %}\n            {% if tax_template.title == \"ISV 18%\" %}\n                {% set _ = tax_18_total.append(item.net_amount) %}\n                {% for obj, value in tax_rates_dic.items() %}\n                    {% if obj == item.item_code %}\n                        {% set _ = tax_18_tax_total.append(value[1]) %}\n                    {% endif %}\n                {% endfor %}\n            {% endif %}\n            {% if tax_template.title == \"Exento\" %}\n                {% set _ = tax_exento_total.append(item.net_amount) %}\n                {% for obj, value in tax_rates_dic.items() %}\n                    {% if obj == item.item_code %}\n                        {% set _ = tax_exento_tax_total.append(value[1]) %}\n                    {% endif %}\n                {% endfor %}\n            {% endif %}\n        {% endif %}\n    {% endfor %}\n{% endfor %}\n<table class=\"table table-borderless mt-0\">\n    <tbody>\n        <tr>\n            <td></td>\n            <td class=\"totals-label\">{{ _(\"Discount\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(doc.discount_amount) }}</td>\n        </tr>\n        <tr>\n            <td></td>\n            <td class=\"totals-label\">{{ _(\"Subtotal\") }}</td>\n            <td class=\"totals-amount\">\t{{ \"L {:,.2f}\".format(doc.net_total) }}</td>\n        </tr>\n        <tr>\n            <td></td>\n            <td class=\"totals-label\">{{ _(\"ISV 15%\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(tax_15_tax_total|sum) }}</td>\n        </tr>\n        <tr>\n            <td>Cantidad en Letras:</td>\n            <td class=\"totals-label\"></td>\n            <td class=\"totals-amount\"></td>\n        </tr>\n        <tr>\n            <td>{{ frappe.utils.money_in_words(doc.grand_total, \" \") }}</td>\n            <td class=\"totals-label\">{{ _(\"Grand Total\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(doc.grand_total) }}</td>\n        </tr>\n        <tr>\n            <td>\u3164</td>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td>\u3164</td>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td colspan=\"2\" style=\"border-top: 1px solid #000000; text-align: center;\">FIRMA</td>\n        </tr>\n    </tbody>\n</table>",
  "line_breaks": 0,
  "margin_bottom": 10.0,
  "margin_left": 10.0,
  "margin_right": 10.0,
  "margin_top": 10.0,
  "modified": "2023-05-15 00:14:37.669825",
  "module": "Irama",
  "name": "Cotizacion",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format .header th {\n    font-weight: 600;\n}\n\n.print-format .table-borderless th, .print-format .table-borderless td {\n    padding: 0 !important;\n    margin: 0 !important;\n}\n\n.print-format .bordered {\n    border-bottom: 1px solid #59A9F2 !important; \n}\n\n.print-format .totals-label {\n    width: 20%; \n    font-weight: 600;\n}\n.print-format .totals-amount {\n    width: 20%; \n    text-align: right;\n}",
  "custom_format": 1,
  "default_print_language": "es",
  "disabled": 0,
  "doc_type": "Payment Entry",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{{letter_head}}\n<div style=\"padding: 0; margin: 0 auto; width: 100%;\">\n    <div style=\"align-items: end; display: flex; flex-wrap: wrap;\">\n        <div style=\"flex-basis: 0; flex-grow: 1; min-width: 0; position: relative; padding: 25px 0 0;\">\n            <h5 class=\"m-0\">Recibo No. {{doc.name}}</h5>\n            <h5>{{ \"L {:,.2f}\".format(doc.total_allocated_amount) }}</h5>\n        </div>\n        <h6>Forma de Pago: {{doc.mode_of_payment}}</h6>\n    </div>\n</div>\n<table class=\"table table-borderless header\" style=\"margin-top: 15px;\">\n    <tbody>\n        <tr>\n            <th>Cliente</th>\n            <td>{{ doc.party_name }}</td>\n            <th>Fecha</th>\n            <td>{{ doc.get_formatted(\"posting_date\") }}</td>\n        </tr>\n        <tr>\n            <th>RTN</th>\n            <td>{{ doc.tax_id or \"\" }}</td>\n            <th></th>\n            <td></td>\n        </tr>\n        <tr>\n            <th rowspan=\"2\">Direcci\u00f3n</th>\n            <td rowspan=\"2\">{{ doc.address_display or \"\" }}</td>\n            <th></th>\n            <td></td>\n        </tr>\n        <tr>\n            <th></th>\n            <td></td>\n        </tr>\n    </tbody>\n</table>\n<table class=\"table my-1\">\n    <thead class=\"thead-light\">\n        <tr>\n            <th style=\"font-size: x-small;\">#</th>\n            <th style=\"font-size: x-small;\" class=\"text-uppercase\">Documento</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Fecha</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Total</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Pagado</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Saldo</th>\n        </tr>\n    </thead>\n    <tbody>\n        {%- for reference in doc.references -%}\n        <tr>\n            <td style=\"width: 3%;\">{{ reference.idx }}</td>\n            <td style=\"width: 30%;\">{{ reference.reference_name }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"2023-03-30\" }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(reference.total_amount) }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(reference.allocated_amount) }}</td>\n            {% set new_outstanding_amount = reference.outstanding_amount - reference.allocated_amount %}\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(reference.outstanding_amount) }}</td>\n        </tr>\n        {%- endfor -%}\n    </tbody>\n</table>",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2023-05-15 00:14:26.916076",
  "module": "Irama",
  "name": "Recibo de Pago",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": ".print-format .header th {\n    color: #000000;\n}\n\n.print-format .bordered {\n    border-bottom: 1px solid #59A9F2 !important; \n}\n\n.print-format .totals-label {\n    width: 20%; \n    font-weight: 600;\n}\n.print-format .totals-amount {\n    width: 20%; \n    text-align: right;\n}",
  "custom_format": 1,
  "default_print_language": "es",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{{letter_head}}\n{%- if doc.tipo_comprobante == \"Factura\" -%}\n<div style=\"padding: 0; margin: 0 auto; width: 100%;\">\n    <div style=\"align-items: end; display: flex; flex-wrap: wrap;\">\n        <div style=\"flex-basis: 0; flex-grow: 1; min-width: 0; width: 350px;  position: relative; padding: 25px 0 0;\">\n            <h4 class=\"m-0\">Factura No.</h4>\n            <h4 class=\"m-0\">{{doc.invoice_number}}</h4>\n            <h6 class=\"m-0\" style=\"font-size: 8px;\">CAI: {{doc.cai}}</h6>\n        </div>\n        <div style=\"flex-basis: 0; flex-grow: 1; width: auto; max-width: 100%; position: relative; text-align: right;\">\n            <p style=\"font-size: 10px; margin-top: 15px; text-transform: uppercase;\">FACTURA<br>\n            {{\"Credito\" if doc.payment_terms_template != \"Contado\" else \"Contado\" }}<br>\n            VT.R 02</p>\n        </div>\n    </div>\n</div>\n<table class=\"table table-borderless header\" style=\"margin-top: 15px;\">\n    <tbody>\n        <tr>\n            <th>Cliente</th>\n            <td>{{ doc.customer_name }}</td>\n            <th>Fecha</th>\n            <td>{{ doc.get_formatted(\"posting_date\") }}</td>\n        </tr>\n        <tr>\n            <th>RTN</th>\n            <td>{{ doc.tax_id or \"\" }}</td>\n            <th>OC Exenta</th>\n            <td>{{ doc.correlativo_orden_compra_exenta or \"\"}}</td>\n        </tr>\n        <tr>\n            <th rowspan=\"2\">Direcci\u00f3n</th>\n            <td rowspan=\"2\">{{ doc.address_display or \"\" }}</td>\n            <th>Const. Reg. Exonerados</th>\n            <td>{{ doc.correlativo_constancia_registro_exonerado or \"\" }}</td>\n        </tr>\n        <tr>\n            <th>Registro SAG</th>\n            <td>{{ doc.identificativo_registro_sag or \"\" }}</td>\n        </tr>\n    </tbody>\n</table>\n<table class=\"table my-1\">\n    <thead class=\"thead-light\">\n        <tr>\n            <th style=\"font-size: x-small;\">#</th>\n            <th style=\"font-size: x-small;\" class=\"text-uppercase\">Descripci\u00f3n</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Cantidad</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">P. Unitario</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Descuento</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Total</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">ISV</th>\n        </tr>\n    </thead>\n    <tbody>\n        {%- for item in doc.items -%}\n        <tr>\n            <td style=\"width: 3%;\">{{ item.idx }}</td>\n            <td style=\"width: 37%;\">{{ item.description }}</td>\n            <td style=\"width: 10%; text-align: right;\">{{ item.qty }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(item.rate) }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(item.discount_amount) }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(item.amount) }}</td>\n            <td style=\"width: 5%; text-align: right;\">\n                {% set mydict = json.loads(item.item_tax_rate) %}\n        \t\t{% if item.item_tax_rate == \"{}\" %}\n        \t\t\t{% for row in doc.taxes %}\n        \t\t\t\t{{ row.rate }}.0%\n        \t\t\t{% endfor %}\n        \t\t{% else %}\n        \t\t\t{% for obj, value in mydict.items() %}\n        \t\t\t{{ value }}%\n        \t\t\t{% endfor %}\n        \t\t{% endif %}\n            </td>\n        </tr>\n        {%- endfor -%}\n        {%- if doc.observaciones != None -%}\n        <tr>\n            <td colspan=\"7\">{{ doc.observaciones }}</td>\n        </tr>\n        {%- endif -%}\n    </tbody>\n</table>\n\n{% set tax_rates_dic = json.loads(doc.taxes[0].item_wise_tax_detail) %}\n{% set tax_templates = frappe.get_all('Item Tax Template', fields=['name', 'title']) %}\n\n{% set tax_exento_total = [] %}\n{% set tax_exento_tax_total = [] %}\n{% set tax_15_tax_total = [] %}\n{% set tax_15_total = [] %}\n{% set tax_18_tax_total = [] %}\n{% set tax_18_total = [] %}\n\n{% for tax_template in tax_templates %}\n    {% for item in doc.items %}\n        {% if item.item_tax_template == tax_template.name %}\n            {% if tax_template.title == \"ISV 15%\" %}\n                {% set _ = tax_15_total.append(item.net_amount) %}\n                {% for obj, value in tax_rates_dic.items() %}\n                    {% if obj == item.item_code %}\n                        {% set _ = tax_15_tax_total.append(value[1]) %}\n                    {% endif %}\n                {% endfor %}\n            {% endif %}\n            {% if tax_template.title == \"ISV 18%\" %}\n                {% set _ = tax_18_total.append(item.net_amount) %}\n                {% for obj, value in tax_rates_dic.items() %}\n                    {% if obj == item.item_code %}\n                        {% set _ = tax_18_tax_total.append(value[1]) %}\n                    {% endif %}\n                {% endfor %}\n            {% endif %}\n            {% if tax_template.title == \"Exento\" %}\n                {% set _ = tax_exento_total.append(item.net_amount) %}\n                {% for obj, value in tax_rates_dic.items() %}\n                    {% if obj == item.item_code %}\n                        {% set _ = tax_exento_tax_total.append(value[1]) %}\n                    {% endif %}\n                {% endfor %}\n            {% endif %}\n        {% endif %}\n    {% endfor %}\n{% endfor %}\n<table class=\"table table-borderless mt-0\">\n    <tbody>\n        <tr>\n            <td></td>\n            <td class=\"totals-label\">{{ _(\"Discount\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(doc.discount_amount) }}</td>\n        </tr>\n        <tr>\n            <td>Fecha Limite de Emisi\u00f3n: {{ doc.get_formatted(\"fecha_limite_emision\", doc) }}</td>\n            <td class=\"totals-label\">{{ _(\"Subtotal\") }}</td>\n            <td class=\"totals-amount\">\t{{ \"L {:,.2f}\".format(doc.net_total) }}</td>\n        </tr>\n        <tr>\n            <td>Rango Autorizado: {{ doc.rango_autorizado }}</td>\n            <td class=\"totals-label\">{{ _(\"Exonerado\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(0) }}</td>\n        </tr>\n        <tr>\n            <td></td>\n            <td class=\"totals-label\">{{ _(\"Exento\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(tax_exento_total|sum) }}</td>\n        </tr>\n        <tr>\n            <td>ORIGINAL: Cliente</td>\n            <td class=\"totals-label\">{{ _(\"Importe Gravado 15%\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(tax_15_total|sum) }}</td>\n        </tr>\n        <tr>\n            <td>COPIA: Obligado Tributario Emisor</td>\n            <td class=\"totals-label\">{{ _(\"Importe Gravado 18%\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(tax_18_total|sum) }}</td>\n        </tr>\n        <tr>\n            <td></td>\n            <td class=\"totals-label\">{{ _(\"ISV 15%\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(tax_15_tax_total|sum) }}</td>\n        </tr>\n        <tr>\n            <td>Cantidad en Letras:</td>\n            <td class=\"totals-label\">{{ _(\"ISV 18%\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(tax_18_tax_total|sum) }}</td>\n        </tr>\n        <tr>\n            <td>{{ frappe.utils.money_in_words(doc.grand_total, \" \") }}</td>\n            <td class=\"totals-label\">{{ _(\"Grand Total\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(doc.grand_total) }}</td>\n        </tr>\n        <tr>\n            <td>\u3164</td>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td>Se cobrar\u00e1 L 1,000,00 por cada cheque devuelto</td>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td>\u3164</td>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td>LA FACTURA ES BENEFICIO DE TODOS, \"EXIJALA\"</td>\n            <td colspan=\"2\" style=\"border-top: 1px solid #000000; text-align: center;\">FIRMA</td>\n        </tr>\n    </tbody>\n</table>\n{%- else -%}\n<div style=\"padding: 0; margin: 0 auto; width: 100%;\">\n    <div style=\"align-items: end; display: flex; flex-wrap: wrap;\">\n        <div style=\"flex-basis: 0; flex-grow: 1; min-width: 0; width: 350px;  position: relative; padding: 25px 0 0;\">\n            <h4 class=\"m-0\">Consignaci\u00f3n No.</h4>\n            <h4 class=\"m-0\">{{doc.name}}</h4>\n        </div>\n        <div style=\"flex-basis: 0; flex-grow: 1; width: auto; max-width: 100%; position: relative; text-align: right;\">\n            <p style=\"font-size: 10px; margin-top: 15px; text-transform: uppercase;\">CONSIGNACION<br>\n            {{doc.payment_terms_template}}<br>\n            AD.R 04</p>\n        </div>\n    </div>\n</div>\n<table class=\"table table-borderless header\" style=\"margin-top: 15px;\">\n    <tbody>\n        <tr>\n            <th>Cliente</th>\n            <td>{{ doc.customer_name }}</td>\n            <th>Fecha</th>\n            <td>{{ doc.get_formatted(\"posting_date\") }}</td>\n        </tr>\n        <tr>\n            <th>RTN</th>\n            <td>{{ doc.tax_id or \"\" }}</td>\n            <th></th>\n            <td></td>\n        </tr>\n        <tr>\n            <th rowspan=\"2\">Direcci\u00f3n</th>\n            <td rowspan=\"2\">{{ doc.address_display or \"\" }}</td>\n            <th></th>\n            <td></td>\n        </tr>\n        <tr>\n            <th></th>\n            <td></td>\n        </tr>\n    </tbody>\n</table>\n<table class=\"table my-1\">\n    <thead class=\"thead-light\">\n        <tr>\n            <th style=\"font-size: x-small;\">#</th>\n            <th style=\"font-size: x-small;\" class=\"text-uppercase\">Descripci\u00f3n</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Cantidad</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">P. Unitario</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Descuento</th>\n            <th style=\"font-size: x-small;\" class=\"text-right text-uppercase\">Total</th>\n        </tr>\n    </thead>\n    <tbody>\n        {%- for item in doc.items -%}\n        <tr>\n            <td style=\"width: 3%;\">{{ item.idx }}</td>\n            <td style=\"width: 37%;\">{{ item.description }}</td>\n            <td style=\"width: 10%; text-align: right;\">{{ item.qty }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(item.rate) }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(item.discount_amount) }}</td>\n            <td style=\"width: 15%; text-align: right;\">{{ \"L {:,.2f}\".format(item.amount) }}</td>\n        </tr>\n        {%- endfor -%}\n        {%- if doc.observaciones != None -%}\n        <tr>\n            <td colspan=\"7\">{{ doc.observaciones }}</td>\n        </tr>\n        {%- endif -%}\n    </tbody>\n</table>\n<table class=\"table table-borderless mt-0\">\n    <tbody>\n        <tr>\n            <td></td>\n            <td class=\"totals-label\">{{ _(\"Discount\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(doc.discount_amount) }}</td>\n        </tr>\n        <tr>\n            <td></td>\n            <td class=\"totals-label\">{{ _(\"Subtotal\") }}</td>\n            <td class=\"totals-amount\">\t{{ \"L {:,.2f}\".format(doc.net_total) }}</td>\n        </tr>\n        <tr>\n            <td>{{ frappe.utils.money_in_words(doc.grand_total, \" \") }}</td>\n            <td class=\"totals-label\">{{ _(\"Grand Total\") }}</td>\n            <td class=\"totals-amount\">{{ \"L {:,.2f}\".format(doc.grand_total) }}</td>\n        </tr>\n        <tr>\n            <td></td>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td>Se cobrar\u00e1 L 1,000,00 por cada cheque devuelto</td>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td>\u3164</td>\n            <td></td>\n            <td></td>\n        </tr>\n        <tr>\n            <td></td>\n            <td colspan=\"2\" style=\"border-top: 1px solid #000000; text-align: center;\">FIRMA</td>\n        </tr>\n    </tbody>\n</table>\n{%- endif -%}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2023-05-15 00:19:20.098774",
  "module": "Irama",
  "name": "Factura de Venta Irama",
  "page_number": "Hide",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "show_section_headings": 0,
  "standard": "No"
 }
]